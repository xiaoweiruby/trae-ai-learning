《第四章：MCP 环境搭建》 围巾哥萧尘 | Trae AI 从小白到大神的学习之路🧣
2025-07-16
32
阅读4分钟
专栏： 
围巾哥萧尘 | Trae AI 从小白到大神的学习之路 🧣
编辑

03c9a5eb-35c5-4aeb-938a-7565319a8a54_1752637867570619583~tplv-a9rns2rl98-web-preview-watermark.png

第四章：MCP 环境搭建
本章将深入探讨如何在 Trae AI 中搭建 MCP（Master Control Program）运行环境。MCP 是 Trae AI 的核心功能之一，它是一个功能性的工具，是智能体体系的本质所在，相当于构建不同类型的优秀“工具人”。通过本章的学习，你将掌握 MCP 环境搭建的关键步骤和注意事项，从而为 Trae AI 驱动的高级开发功能打下坚实基础。

4.1 MCP 概述及其重要性

在 Trae AI 的生态系统中，MCP 扮演着至关重要的角色。它是实现各种功能性过程的工具，例如 Git 智能体中的代码版本管理、EdgeoneMCP 和 Vercel 的部署，以及 GodotMCP、UnityMCP、BlenderMCP、FigmaMCP 和 MiniMax MCP 等。MCP 能够帮助 Trae AI 实现从代码编写、版本管理到环境配置和项目部署的一站式开发体验。

4.2 MCP 环境搭建的先决条件

要成功搭建 MCP 运行环境，你需要安装以下核心组件：

IDE (集成开发环境) ：任何 IDE 都可以，但本教程使用的是 Trae IDE。
Node.js (NJS) ：用于 MCP 服务器服务的安装。
UV/UVX：同样是 MCP 服务器服务所需的关键安装组件。
Python：作为安装 UVX 的前提，需要先安装 Python。
4.3 核心组件安装步骤

在搭建 MCP 运行环境时，遵循以下步骤，确保各项组件的正确安装和配置：

安装 Node.js (NJS)

下载：访问 Node.js (RJS) 官方网站下载安装包。视频中提到下载 Node.js 18 或更高版本。
安装：下载完成后，点击安装程序，通常只需“下一步、下一步”即可完成。
版本验证：安装完毕后，打开终端，输入命令检查 Node.js 和 npm 的版本。例如，验证 Node.js 版本是否为 v22.17.0，npm 版本是否为 10.92 或 4.9.2。
安装 Python

下载：前往 Python 官网下载 Python 3.8 或更高版本。视频中提到最新的 Python 版本是 3.13.5。
安装：下载后，运行安装程序，按照提示“下一步”即可完成。
版本验证：安装完成后，在终端中验证 Python 版本，例如 Python 3.13.5。
安装 UV/UVX

安装挑战：UV/UVX 的安装通常是 MCP 环境搭建中最具挑战的部分，尤其是在中国大陆，可能会遇到网络连接困难或无法下载的问题。

Trae AI 辅助安装：你可以利用 Trae AI 来辅助安装，它能分析你缺少什么，并指导你安装所需组件，这是一种“偷机取巧”的快速搭建方法。

手动下载与配置（推荐） ：

获取下载地址：如果自动安装失败，Trae AI 可以提供手动下载地址。根据你的系统（例如 Mac M4 芯片），选择对应的下载链接.

下载并解压：下载 UV 包（例如 UV0.7.19），然后解压。解压后你会得到 UV 和 UVX 的可执行文件。

移动文件：将解压后的 UV 和 UVX 可执行文件移动到你的文件路径下，并确保该目录在你的系统路径中.

Mac 系统安全设置：对于 Mac 用户，这是一个关键步骤。UV/UVX 文件可能会被系统识别为“恶意文件”或“无法验证的开发者”。

前往“系统设置”（或“系统偏好设置”）。
找到“隐私与安全性”部分。
在“安全性”或“通用”选项卡下，你会看到有应用程序被阻止运行的提示。点击“仍然允许”或“确认”，允许 UV 包运行。
版本验证：完成上述步骤后，在终端中执行命令验证 UV/UVX 是否安装成功，并确认其版本号，例如 UV0.7.19。

4.4 利用 Trae AI 进行环境测试

在完成所有先决条件的安装后，你可以通过安装一个简单的 MCP 来测试你的环境是否搭建成功：

选择测试 MCP：我推荐大家安装 “Sequential Thinking” MCP 进行测试，因为它不需要额外的 Token 或其他复杂配置。

安装并验证：

在 Trae AI 的市场中搜索并找到“Sequential Thinking”MCP。
点击“添加”并“确认”安装。
一旦 MCP 状态显示为“准备中”并出现绿色的打勾图标，则表示你的 MCP 运行环境已成功搭建。如果出现感叹号，则需要进一步检查。
4.5 常见问题与建议

文件权限问题：特别是 UV/UVX 的安装，Mac 用户可能会遇到权限问题，需要手动在系统安全设置中允许其运行。
硬件建议：为了获得更好的 AI 编程体验，建议购买最新的 M4 或即将推出的 M5 芯片的 Mac 电脑，以避免因环境配置问题带来的困扰。
其他 MCP 的额外配置：某些 MCP（例如 Git MCP）可能需要额外的先决条件，如 GitHub Token 或修改配置文件。这些配置通常可以在其对应的 GitHub 仓库中找到。
通过本章的指引，你应该能够顺利地搭建起 Trae AI 的 MCP 运行环境，为后续更高级的 Trae AI 功能和项目实战做好准备。

